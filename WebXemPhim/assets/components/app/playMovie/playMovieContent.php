<div class="col l-9 m-12 c-12" id = "play-movie">
    <h2 class="movie-heading">Hoa Tuyết Điểm - Tập 1</h2>
    <div class="play-movie__showtime showtime">
        <span>Lịch chiếu: VietSub 23h Thứ 7, Chủ nhật hàng tuần trên DongPhymtv.Com</span>
    </div>

    <div class="episode-wrapper">
        <div class="episode__label">
            <i class="episode__icon fas fa-film"></i>
            <span class="episode__text">Server V.I.P</span>
        </div>
        <ul class="episode__list scrollbar">
            <li class="episode__item"><a href="" class="episode__link">1</a></li>
            <li class="episode__item"><a href="" class="episode__link">2</a></li>
            <li class="episode__item"><a href="" class="episode__link">3</a></li>
            <li class="episode__item"><a href="" class="episode__link">4</a></li>
            <li class="episode__item"><a href="" class="episode__link">5</a></li>
            <li class="episode__item"><a href="" class="episode__link">6</a></li>
            <li class="episode__item"><a href="" class="episode__link">7</a></li>
            <li class="episode__item"><a href="" class="episode__link">8</a></li>
            <li class="episode__item"><a href="" class="episode__link">9</a></li>
            <li class="episode__item"><a href="" class="episode__link">10</a></li>
            <li class="episode__item"><a href="" class="episode__link">11</a></li>
            <li class="episode__item"><a href="" class="episode__link">12</a></li>
            <li class="episode__item"><a href="" class="episode__link">13</a></li>
            <li class="episode__item"><a href="" class="episode__link">14</a></li>
            <li class="episode__item"><a href="" class="episode__link">15</a></li>
            <li class="episode__item"><a href="" class="episode__link">16</a></li>
            <li class="episode__item"><a href="" class="episode__link">17</a></li>
            <li class="episode__item"><a href="" class="episode__link">18</a></li>
            <li class="episode__item"><a href="" class="episode__link">19</a></li>
            <li class="episode__item"><a href="" class="episode__link">20</a></li>
            <li class="episode__item"><a href="" class="episode__link">21</a></li>
            <li class="episode__item"><a href="" class="episode__link">22</a></li>
            <li class="episode__item"><a href="" class="episode__link">23</a></li>
            <li class="episode__item"><a href="" class="episode__link">24</a></li>
            <li class="episode__item"><a href="" class="episode__link">25</a></li>
        </ul>
    </div>


    <div class="carousel carousel--dark-background">
        <div class="heading">
            <h3 class="title">Có thể bạn quan tâm</h3>
            <a href="" class="carousel__view-all">
                Xem tất cả
                <i class="carousel__view-all-next-icon fas fa-angle-right"></i>
            </a>
        </div>

        <div class="carousel__movies">
            <div class="row hidden-movie" id = "detail-carousel">
                <button class="prev-btn">
                    <i class="prev-icon fas fa-angle-left"></i>
                </button>
                
                <button class="next-btn">
                    <i class="next-icon fas fa-angle-right"></i>
                </button>


                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie" >
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">Tập 11 vietsub</span>
                        <div class="movies-item-img-vertical"   id="js-length-image" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1639054070.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Khanh khanh ngã tâm</h4>
                        <span class="movies-eng-title">My heart (2021)</span>                                            
                    </a>
                </div>

                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie">
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">Tập 8 vietsub</span>
                        <div class="movies-item-img-vertical" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1637949322.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Một ngày bình thường</h4>
                        <span class="movies-eng-title">One Ordinary Day (2021)</span>                                            
                    </a>
                </div>

                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie">
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">Tập Đặc biệt vietsub</span>
                        <div class="movies-item-img-vertical" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1611046684_DavrPwE.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Vincenzo (2021)</h4>
                        <span class="movies-eng-title">Vincenzo (2021)</span>                                            
                    </a>
                </div>

                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie">
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">HD-vietsub</span>
                        <div class="movies-item-img-vertical" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1455946790_Himalaya_poster_goldposter_com_12.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Chinh phục đỉnh Himalayas</h4>
                        <span class="movies-eng-title">The Himalayas (2015)</span>                                            
                    </a>
                </div>

                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie">
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">Tập 15 vietsub</span>
                        <div class="movies-item-img-vertical" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1635068501.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Quái vật Chimera</h4>
                        <span class="movies-eng-title">Chimera(2021)</span>                                            
                    </a>
                </div>

                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie">
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">Tập 1 vietsub</span>
                        <div class="movies-item-img-vertical" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1638589949.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Bulgasal: linh hồn bất tử</h4>
                        <span class="movies-eng-title">Bulgasal: Immortal souls (2021)</span>                                            
                    </a>
                </div>

                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie">
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">Tập 9 vietsub</span>
                        <div class="movies-item-img-vertical" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1636307019.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Arcane: Liên minh huyền thoại</h4>
                        <span class="movies-eng-title">Arcane (2021)</span>                                            
                    </a>
                </div>

                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie">
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">Thuyết minh 1080p</span>
                        <div class="movies-item-img-vertical" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1637170646.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Venom: Đối mặt tử thù (2021)</h4>
                        <span class="movies-eng-title">Venom: let there be carnage (2021)</span>                                            
                    </a>
                </div>

                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie">
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">Thuyết minh 1080p</span>
                        <div class="movies-item-img-vertical" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1638777645.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Câu chuyện về thành phố đen tối: Khoá</h4>
                        <span class="movies-eng-title">Karanlık Şehir Hikayeleri: Kilit (2021</span>                                            
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>


<style>
    .movie-heading{
        font-size: 3.6rem;
        font-weight: bold;
        color: var(--white-color);
        margin-top: 0;
    }

    .play-movie__showtime{
        width: 50%;
        margin-bottom: 20px;
    }

    .play-movie__showtime span{
        padding: 10px 7px;
    }
    
    .episode-wrapper{
        margin-bottom: 100px;
    }
</style>

<script>
    var carousels = document.getElementsByClassName('carousel')
    const prevBtns = document.querySelectorAll('.prev-btn');
    const nextBtns = document.querySelectorAll('.next-btn');
    var moveMovies = document.getElementsByClassName('move-movie');
    var lengthMovieImage = document.getElementById('js-length-image').clientWidth;
    var totalCarousel = carousels.length
    var heightDevice = window.innerHeight
    var widthDevice = window.innerWidth

    var count = new Array;
    for(i = 0;i<totalCarousel ; i++)
    {
        count[i] = 0;
    }

    function hideBtn() {
        for(var i = 0; i<totalCarousel ; i++)
        {
            if(count[i] == 0){                    
                prevBtns[i].style.display = 'none'                    
            }
        }
    }


    nextBtns.forEach(function(item,index) {
        item.onclick = function(){
            count[index]++
            if(window.innerWidth > 739) {
                if(count[index] == 2) {
                    item.style.display = 'none';
                    for(var i = index*9 ; i<index*9+9 ; i++){
                        if(window.innerWidth > 1023) {
                            moveMovies[i].style.transform = "translateX("+(-lengthMovieImage*3.7)+"px)"
                        }
                        else{
                            moveMovies[i].style.transform = "translateX("+(-lengthMovieImage*6.3)+"px)"
                        }
                    }                            
                }
                else if(count[index] == 1) {
                    prevBtns[index].removeAttribute("style");
                    for(var i = index*9 ; i<index*9+9 ; i++){
                        if(window.innerWidth > 1023) {
                            moveMovies[i].style.transform = "translateX("+(-lengthMovieImage)+"px)"
                        }
                        else{
                            moveMovies[i].style.transform = "translateX("+(-2*lengthMovieImage)+"px)"
                        }
                    }
                }
            }
            else {
                var currentCount = count[index]
                if(count[index] == 4){
                    item.style.display = 'none';
                    for(var i = index*9 ; i<index*9+9 ; i++){
                        moveMovies[i].style.transform = "translateX("+(-lengthMovieImage*7.2)+"px)"
                    }  
                }
                else if(count[index] < 4){
                    prevBtns[index].removeAttribute("style");
                    for(var i = index*9 ; i<index*9+9 ; i++){
                        moveMovies[i].style.transform = "translateX("+(-lengthMovieImage*2*currentCount)+"px)"
                    }  
                }
            }
            
        }
    })

    prevBtns.forEach(function(item,index) {
        item.onclick = function() {
            count[index]--
            if(window.innerWidth > 739) {
                if(count[index] == 0){
                    item.style.display = 'none';
                    for(var i = index*9 ; i<index*9+9 ; i++){
                        moveMovies[i].style.transform = "translateX(0)"
                    }
                }
                else if(count[index] == 1) {
                    nextBtns[index].removeAttribute("style");
                    for(var i = index*9 ; i<index*9+9 ; i++){
                        moveMovies[i].style.transform = "translateX("+(-lengthMovieImage*2.7)+"px)"
                    }
                }   
            }
            else{
                var currentCount = count[index]
                if(count[index] == 0){
                    item.style.display = 'none';
                    for(var i = index*9 ; i<index*9+9 ; i++){
                        moveMovies[i].style.transform = "translateX("+(0)+"px)"
                    }  
                }
                else if(count[index] > 0){
                    nextBtns[index].removeAttribute("style");
                    for(var i = index*9 ; i<index*9+9 ; i++){
                        moveMovies[i].style.transform = "translateX("+(-lengthMovieImage*2*currentCount)+"px)"
                    }  
                }
            }
            
        }
    })
    hideBtn();
</script>