<div class="col l-9 m-12 c-12 content">
    <h2 class="content__movie-title">
        <span>Nội dung phim</span>    
    </h2>

    <div class="content__movie-content">
        <h3 class="content__movie-name">Hoa Tuyết Điểm | Snowdrop (2021)</h3>
        <p class="content__movie-desc">
            Nội dung của bộ phim lấy bối cảnh ở Seoul vào năm 1987. Nó chứa đựng một câu chuyện về tình yêu tuyệt vọng chống lại thời đại lúc bấy giờ của Suho, một sinh viên đại học danh giá đột nhiên nhảy vào một ký túc xá nữ và bê bết máu, và Youngcho, một nữ sinh viên đại học đã che giấu và chữa vết thương cho anh ta ngay cả khi đang trong cơn khủng hoảng.
        </p>
    </div>

    <div class="carousel carousel--dark-background">
        <div class="heading">
            <h3 class="title">Có thể bạn quan tâm</h3>
            <a href="" class="carousel__view-all">
                Xem tất cả
                <i class="carousel__view-all-next-icon fas fa-angle-right"></i>
            </a>
        </div>

        <div class="carousel__movies">
            <div class="row hidden-movie" id = "detail-carousel">
                <button class="prev-btn">
                    <i class="prev-icon fas fa-angle-left"></i>
                </button>
                
                <button class="next-btn">
                    <i class="next-icon fas fa-angle-right"></i>
                </button>


                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie" >
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">Tập 11 vietsub</span>
                        <div class="movies-item-img-vertical"   id="js-length-image" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1639054070.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Khanh khanh ngã tâm</h4>
                        <span class="movies-eng-title">My heart (2021)</span>                                            
                    </a>
                </div>

                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie">
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">Tập 8 vietsub</span>
                        <div class="movies-item-img-vertical" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1637949322.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Một ngày bình thường</h4>
                        <span class="movies-eng-title">One Ordinary Day (2021)</span>                                            
                    </a>
                </div>

                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie">
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">Tập Đặc biệt vietsub</span>
                        <div class="movies-item-img-vertical" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1611046684_DavrPwE.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Vincenzo (2021)</h4>
                        <span class="movies-eng-title">Vincenzo (2021)</span>                                            
                    </a>
                </div>

                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie">
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">HD-vietsub</span>
                        <div class="movies-item-img-vertical" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1455946790_Himalaya_poster_goldposter_com_12.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Chinh phục đỉnh Himalayas</h4>
                        <span class="movies-eng-title">The Himalayas (2015)</span>                                            
                    </a>
                </div>

                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie">
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">Tập 15 vietsub</span>
                        <div class="movies-item-img-vertical" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1635068501.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Quái vật Chimera</h4>
                        <span class="movies-eng-title">Chimera(2021)</span>                                            
                    </a>
                </div>

                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie">
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">Tập 1 vietsub</span>
                        <div class="movies-item-img-vertical" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1638589949.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Bulgasal: linh hồn bất tử</h4>
                        <span class="movies-eng-title">Bulgasal: Immortal souls (2021)</span>                                            
                    </a>
                </div>

                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie">
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">Tập 9 vietsub</span>
                        <div class="movies-item-img-vertical" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1636307019.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Arcane: Liên minh huyền thoại</h4>
                        <span class="movies-eng-title">Arcane (2021)</span>                                            
                    </a>
                </div>

                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie">
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">Thuyết minh 1080p</span>
                        <div class="movies-item-img-vertical" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1637170646.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Venom: Đối mặt tử thù (2021)</h4>
                        <span class="movies-eng-title">Venom: let there be carnage (2021)</span>                                            
                    </a>
                </div>

                <div class="col l-spe m-3 p-l-r-5 c-6 move-movie">
                    <a href="" class="movies-item-vertical">
                        <span class="movie-chapter-vertical">Thuyết minh 1080p</span>
                        <div class="movies-item-img-vertical" style="background-image: url('https://dongphymtv.com/public/files/flim/120x160/1638777645.jpg');">
                            <i class="icon--play fas fa-play-circle"></i>
                        </div>
                        <h4 class="movies-title">Câu chuyện về thành phố đen tối: Khoá</h4>
                        <span class="movies-eng-title">Karanlık Şehir Hikayeleri: Kilit (2021</span>                                            
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    var carousels = document.getElementsByClassName('carousel')
    const prevBtns = document.querySelectorAll('.prev-btn');
    const nextBtns = document.querySelectorAll('.next-btn');
    var moveMovies = document.getElementsByClassName('move-movie');
    var lengthMovieImage = document.getElementById('js-length-image').clientWidth;
    var totalCarousel = carousels.length
    var heightDevice = window.innerHeight
    var widthDevice = window.innerWidth

    var count = new Array;
    for(i = 0;i<totalCarousel ; i++)
    {
        count[i] = 0;
    }

    function hideBtn() {
        for(var i = 0; i<totalCarousel ; i++)
        {
            if(count[i] == 0){                    
                prevBtns[i].style.display = 'none'                    
            }
        }
    }


    nextBtns.forEach(function(item,index) {
        item.onclick = function(){
            count[index]++
            if(window.innerWidth > 739) {
                if(count[index] == 2) {
                    item.style.display = 'none';
                    for(var i = index*9 ; i<index*9+9 ; i++){
                        if(window.innerWidth > 1023) {
                            moveMovies[i].style.transform = "translateX("+(-lengthMovieImage*3.7)+"px)"
                        }
                        else{
                            moveMovies[i].style.transform = "translateX("+(-lengthMovieImage*6.3)+"px)"
                        }
                    }                            
                }
                else if(count[index] == 1) {
                    prevBtns[index].removeAttribute("style");
                    for(var i = index*9 ; i<index*9+9 ; i++){
                        if(window.innerWidth > 1023) {
                            moveMovies[i].style.transform = "translateX("+(-lengthMovieImage)+"px)"
                        }
                        else{
                            moveMovies[i].style.transform = "translateX("+(-2*lengthMovieImage)+"px)"
                        }
                    }
                }
            }
            else {
                var currentCount = count[index]
                if(count[index] == 4){
                    item.style.display = 'none';
                    for(var i = index*9 ; i<index*9+9 ; i++){
                        moveMovies[i].style.transform = "translateX("+(-lengthMovieImage*7.2)+"px)"
                    }  
                }
                else if(count[index] < 4){
                    prevBtns[index].removeAttribute("style");
                    for(var i = index*9 ; i<index*9+9 ; i++){
                        moveMovies[i].style.transform = "translateX("+(-lengthMovieImage*2*currentCount)+"px)"
                    }  
                }
            }
            
        }
    })

    prevBtns.forEach(function(item,index) {
        item.onclick = function() {
            count[index]--
            if(window.innerWidth > 739) {
                if(count[index] == 0){
                    item.style.display = 'none';
                    for(var i = index*9 ; i<index*9+9 ; i++){
                        moveMovies[i].style.transform = "translateX(0)"
                    }
                }
                else if(count[index] == 1) {
                    nextBtns[index].removeAttribute("style");
                    for(var i = index*9 ; i<index*9+9 ; i++){
                        moveMovies[i].style.transform = "translateX("+(-lengthMovieImage*2.7)+"px)"
                    }
                }   
            }
            else{
                var currentCount = count[index]
                if(count[index] == 0){
                    item.style.display = 'none';
                    for(var i = index*9 ; i<index*9+9 ; i++){
                        moveMovies[i].style.transform = "translateX("+(0)+"px)"
                    }  
                }
                else if(count[index] > 0){
                    nextBtns[index].removeAttribute("style");
                    for(var i = index*9 ; i<index*9+9 ; i++){
                        moveMovies[i].style.transform = "translateX("+(-lengthMovieImage*2*currentCount)+"px)"
                    }  
                }
            }
            
        }
    })
    hideBtn();
</script>